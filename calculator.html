<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>这是一个计算器</title>
    <link rel="stylesheet" href="./style.css">
    <style>
    .num_button {
        border-radius: 8px;
          background: #ff9eb6;
         box-shadow:  1px 1px 1px #d68599,
             -1px -1px 1px #ffb7d3;
        width: 80px;
        height: 50px;
        text-align: center;
        margin: 2px;
        cursor: pointer;
        font-size: 20px;
        color: white;
        text-shadow:  2px 1px 1px black;
    }
      .num_button:hover {
          transform: scale(1.05);
            background: #ffafc4;
        }
    #result {
        display: block;
        border: 2px solid black;
        text-align: center;
        margin: auto;
    }
    </style>
</head>
<body>
<h1>这是一个简单的计算器</h1>
<div style="text-align: center;">
    <div style="border: 3px solid black; background-color: lightgray; display: inline-block;margin: auto"><br>
         <input type="text" id="result" readonly placeholder="请输入数字" style="font-size: 25px;">
         <br>
         <button class="num_button" onclick="appendnum(1)">1</button>
         <button class="num_button" onclick="appendnum(2)">2</button>
         <button class="num_button" onclick="appendnum(3)">3</button>
         <button class="num_button" onclick="add()">+</button><br>
         <button class="num_button" onclick="appendnum(4)">4</button>
         <button class="num_button" onclick="appendnum(5)">5</button>
         <button class="num_button" onclick="appendnum(6)">6</button>
         <button class="num_button" onclick="minus()">-</button><br>
         <button class="num_button" onclick="appendnum(7)">7</button>
         <button class="num_button" onclick="appendnum(8)">8</button>
         <button class="num_button" onclick="appendnum(9)">9</button>
         <button class="num_button" onclick="multiply()">×</button><br>
        <button class="num_button" onclick="AC()">AC </button>
        <button class="num_button" onclick="appendnum(0)">0</button>
        <button class="num_button" onclick="point()">.</button>
         <button class="num_button" onclick="divide()">÷</button>
        <br>
        <button class="num_button" onclick="equal()">= </button>
    </div>
</div>
</body>
<script>
    let result = 0
    let Acount = 0
    let Bcount =0
    let Ccount = 0
    let Dcount = 0
    let operatorPending = false
    function appendnum(num) {
        document.getElementById("result").value += num
        operatorPending = false;
    }
    function point() {
        document.getElementById("result").value += ".";
    }
    function add() {
        if (!operatorPending) {
            result = Number(document.getElementById("result").value);
            Acount += 1
            document.getElementById("result").value = ""
            operatorPending = true
        }
    }
    function minus() {
        if (!operatorPending) {
            result = Number(document.getElementById("result").value);
            Bcount += 1
            document.getElementById("result").value = ""
            operatorPending = true
        }
    }
    function multiply() {
        if (!operatorPending) {
            result = Number(document.getElementById("result").value);
            Ccount += 1
            document.getElementById("result").value = ""
            operatorPending = true
        }
    }
    function divide() {
        if (!operatorPending) {
            result = Number(document.getElementById("result").value);
            Dcount += 1
            document.getElementById("result").value = ""
            operatorPending = true
        }
    }
    function equal(a){
        a = Number(document.getElementById("result").value)
        if (Acount > 0) {
            result = a + result
            document.getElementById("result").value = result;
            result = ""
        }
        else if (Bcount > 0) {
            result =  result - a
            document.getElementById("result").value = result;
            result = ""
        }
        else if (Ccount > 0) {
             result =  result * a
            document.getElementById("result").value = result;
            result = ""
        }
        else if (Dcount > 0) {
            if (a !== 0) {
                result = result / a
                document.getElementById("result").value = result;
                result = ""
            }
            else{
                document.getElementById("result").value = "错误，除数不能为0"
            }
        }
        Acount = 0
        Bcount =0
        Ccount = 0
        Dcount = 0
        operatorPending = false
    }
    function AC() {
        result = ""
        document.getElementById("result").value = result;
        Acount = 0
        Bcount =0
        Ccount = 0
        Dcount = 0
    }

</script>
</html>